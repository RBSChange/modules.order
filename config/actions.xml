<?xml version="1.0"?>
<actions>
  <action name="cancelOrder">
    <parameter name="listWidget"/>
    <body><![CDATA[
			var docs = listWidget.getSelectedItems();
			if (docs.length == 1)
			{
				var doc = docs[0];
				var ids = [doc.id];
				var locale = new wLocale("&modules.order.bo.actions.Cancel-order-confirm-message;");
				locale.setAttribute('order', doc.label);
				locale.setAttribute('customer', doc.customer);
				locale.setAttribute('date', doc.date);
			}
			else
			{
				var ids = listWidget.getSelectedIds();
				var locale = new wLocale("&modules.order.bo.actions.Cancel-multiple-orders-confirm-message;");
				locale.setAttribute('count', ids.length);
			}

			var lang = this.getContextLang(listWidget);
			if (confirm(locale.toString()))
			{
				this.executeJSON("CancelOrder", { cmpref: ids, lang: lang });
			}
		]]></body>
  </action>
  <action name="cancelOrderIsActive">
    <parameter name="itemData"/>
    <body><![CDATA[
			return itemData.canBeCanceled;
		]]></body>
  </action>
  <action name="createSmartfolder">
    <parameter name="listWidget"/>
    <body><![CDATA[
			this.createDocumentEditor('modules_order_smartfolder', listWidget.getSelectedItems()[0].id);
		]]></body>
  </action>
  
   <action name="createCreditNoteForOrder">
   <parameter name="params"/>
  	 <body><![CDATA[
  	 	this.createDocumentEditor(params[2], params[3]);
	]]></body>
  </action>
</actions>
